interface RequestArgs extends RequestInit {
  uri: RequestInfo;
}

const defaultOptions = {
  headers: {
    'Content-Type': 'application/json',
  },
};

async function request<T>({ uri, ...rest }: RequestArgs): Promise<T> {
  const url = new URL(uri.toString());
  const response = await fetch(url.href, {
    ...rest,
    headers: {
      ...defaultOptions.headers,
      ...rest.headers,
    },
  });
  const body = await response.json();
  return body;
}

{{ Schema }}
